{% extends 'postbox/base.html' %}
{% load static %}

{% block content %}
<div class="dashboard-container">
    <h2>Welcome, {{ request.user.username }}!</h2>
    
    <div class="messages-section">
        <h3>Your Messages</h3>
        {% if messages %}
            <ul class="messages-list">
                {% for message in messages %}
                    <li>
                        <strong>{{ message.subject }}</strong> â€” To: {{ message.recipient.username }}<br>
                        <small>Sent at: {{ message.send_at|date:"Y-m-d H:i" }}</small>
                        <p>{{ message.body|linebreaks }}</p>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No messages yet.</p>
        {% endif %}
    </div>

    <a href="{% url 'postbox:timeline' %}" class="btn-view-events">View All Events</a>
</div>

<style>
.dashboard-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    color: #fff;
}

.messages-section {
    margin-top: 20px;
}

.messages-list {
    list-style: none;
    padding: 0;
}

.messages-list li {
    padding: 12px;
    margin-bottom: 12px;
    background: rgba(0,0,0,0.2);
    border-radius: 10px;
}

.btn-view-events {
    display: inline-block;
    margin-top: 20px;
    padding: 10px 20px;
    background: linear-gradient(90deg, #4e54c8, #8f94fb);
    color: #fff;
    border-radius: 8px;
    text-decoration: none;
    font-weight: bold;
}

.btn-view-events:hover {
    opacity: 0.9;
}
</style>
{% endblock %}
